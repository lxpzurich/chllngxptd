<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent Page</title>
</head>
<body>
    <h1>Parent Page</h1>
    <iframe id="content-iframe" src="https://lxpzurich.github.io/chllngxptd/intermediary.html" 
            style="width: 100%; height: 300px; border: 1px solid #ddd;"></iframe>
    <div id="rendered-content" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px;">
        Waiting for content...
    </div>

    <script>
        window.addEventListener('message', (event) => {
            // Only accept messages from the GitHub Pages iframe
            if (event.origin !== 'https://lxpzurich.github.io') return;

            const content = event.data;

            // Ensure the message contains a string
            if (typeof content === 'string') {
                document.getElementById('rendered-content').innerHTML = content;
            } else {
                console.error('Unexpected message format:', content);
                document.getElementById('rendered-content').innerHTML = 'Error: Unexpected content format.';
            }
        });
    </script>
</body>
</html>
